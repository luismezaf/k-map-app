import{P as h,bl as B,k as C,r as L,a as q,q as p,S as g,u as n,t as f,aJ as v,Y as a,aD as b,ar as E,a5 as N,T as F}from"./index.cd926488.js";import{c as P,a as S}from"./QForm.0bbb9e11.js";const I={class:"flex column flex-center q-pa-lg no-wrap"},Q=F("div",{class:"text-h5 text-weight-bold text-center"},"Iniciar sesi\xF3n",-1),A={key:0,class:"bg-red text-white q-pa-sm rounded-borders text-weight-bold"},J=h({__name:"LoginPage",setup(D){const{login:x,logingError:r,isLoging:d,isLogingError:_}=P(),y=B(),s=C({username:"",password:""}),l=L(!1),w=q(()=>{var e,t;const o=((e=r.value)==null?void 0:e.detail)||((t=r.value)==null?void 0:t.error)||"No fue posible iniciar sesi\xF3n, vuelva a intentarlo m\xE1s tarde.";return Array.isArray(o)?o[0]:o});async function V(){k("1")}function k(o){x({...s,token:o},{onSuccess(){y.replace({name:"Index"})}})}return(o,e)=>(p(),g("div",I,[n(S,{onSubmit:V,class:"q-gutter-md column",style:{width:"320px"}},{default:f(()=>{var t,u,m,c;return[Q,n(v,{filled:"",modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=i=>s.username=i),label:"Nombre de usuario",disable:a(d),error:Boolean((t=a(r))==null?void 0:t.username),"error-message":(u=a(r))==null?void 0:u.username},null,8,["modelValue","disable","error","error-message"]),n(v,{filled:"",modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=i=>s.password=i),label:"Contrase\xF1a",type:l.value?"text":"password",disable:a(d),error:Boolean((m=a(r))==null?void 0:m.password),"error-message":(c=a(r))==null?void 0:c.password},{append:f(()=>[n(b,{flat:"",dense:"",round:"",color:"grey-6",icon:l.value?"visibility_off":"visibility",onClick:e[1]||(e[1]=i=>l.value=!l.value)},null,8,["icon"])]),_:1},8,["modelValue","type","disable","error","error-message"]),a(_)?(p(),g("div",A,E(w.value),1)):N("",!0),n(b,{unelevated:"",label:"Continuar",type:"submit",color:"primary",class:"q-pa-md",loading:a(d)},null,8,["loading"])]}),_:1})]))}});export{J as default};
